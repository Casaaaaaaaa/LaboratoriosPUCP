<{% extends 'internal/base_internal.html' %}

{% block title %}{{ super() }} | Inicio{% endblock title %}

{% block custom_css %}{% endblock custom_css %}

{% block page_content %}
<div class="row border-bottom white-bg dashboard-header">
    <div class="col-md-6">
        <h2><strong>{{ title }}</strong></h2>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight" >
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
        <div class="ibox-content">

    <form action="" method="post">{% csrf_token %}
        <font size="4">{{ form.as_p() }}</font>
        <div class="row">

        <table class="table table-striped table-bordered">
            {{ parameters.management_form }}

            {% for form in parameters.forms %}
                {% if loop.index == 1 %}
                    <thead>
                    <tr>
                        {% for field in form.visible_fields() %}
                            <div class="form-group">
                                <th>{{ field.label|capfirst }}</th>
                            </div>
                        {% endfor %}
                    </tr>
                    </thead>
                {% endif %}
                <tr class="{{ loop.cycle(row1,row2) }} formset_row">
                    {% for field in form.visible_fields() %}
                        <td>
                            <div class="form-group">
                            {# Include the hidden fields in the form #}
                            {% if loop.index == 1 %}
                                {% for hidden in form.hidden_fields() %}
                                    {{ hidden }}
                                {% endfor %}
                            {% endif %}
                            {{ field.errors.as_ul() }}
                            {{ field }}
                            </div>
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>

        <div class="row">
            <div class="col-lg-40">
        <input type="submit" value="Registrar" class="btn btn-primary" style="margin-left: 30%"/> <input href="{{ url('internal:test.index')}}" value="Volver al indice" class="btn btn-primary" style="margin-left: 15%"/>
            </div>
         </div>
        </div>
    </form>
</div>

      </div>
    </div>
  </div>

<script src="{{ static('js/jquery-3.2.1.js') }}"></script>
<script src="{{ static('js/jquery.formset.js') }}"></script>
<script type="text/javascript">
    $('.formset_row').formset({
        addText: 'Agregar par√°metro',
        deleteText: 'Remover',
        prefix: 'parametertemplate_set'
    });
</script>
{% endblock page_content %}
